parameters:
    level: max
    treatPhpDocTypesAsCertain: false
    paths:
        - src
    excludePaths:
        - src/Kernel.php
        - src/Command/ImportCardsCommand.php  # Pokemon SDK types non reconnus
    
    # Symfony-specific configuration
    symfony:
        containerXmlPath: var/cache/dev/App_KernelDevDebugContainer.xml
    
    # Ignorer certaines erreurs connues (à retirer progressivement)
    ignoreErrors:
        # Ignorer les erreurs de propriétés dynamiques pour les entités Doctrine
        - '#Access to an undefined property Doctrine\\ORM\\EntityManager::\$[a-zA-Z]+#'
        # Ignorer les erreurs de types génériques manquants (ArrayCollection)
        - '#type has no value type specified in iterable type array#'
        - '#has no value type specified in iterable type Doctrine\\Common\\Collections\\Collection#'
        # Ignorer les erreurs doctrine.associationType
        - '#does not specify its item type in iterable#'
        - '#doctrine.associationType#'
        - '#missingType.generics#'
        # Ignorer null coalesce sur types déjà non-nullable (faux positifs)
        - '#Expression on left side of \?\? is not nullable#'
        # Ignorer les checks redondants
        - '#function.alreadyNarrowedType#'
        - '#will always evaluate to#'
        # Offset access (faux positifs après validation)
        - '#offsetAccess.nonOffsetAccessible#'
        - '#Cannot access offset#'
        # Return types stricts
        - '#should return .* but returns#'
        # Type mapping Doctrine (relations ManyToMany)
        - '#type mapping mismatch#'
        - '#Property .* type mapping mismatch#'
        # Collections sans spécifier TKey, T (on a déjà @var avec les types)
        - '#with generic interface Doctrine\\Common\\Collections\\Collection does not specify its types#'
    
    # Report unmatched ignored errors
    reportUnmatchedIgnoredErrors: false
